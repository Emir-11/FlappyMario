<!-- The exported code uses Tailwind CSS. Install Tailwind CSS in your dev environment to ensure all styles work. -->
<template>
<div class="min-h-screen bg-blue-100 flex flex-col items-center justify-center overflow-hidden relative">
<!-- Retro background -->
<div class="absolute inset-0 z-0">
<img :src="backgroundImage" alt="Retro background" class="w-full h-full object-cover" />
</div>
<!-- Game container -->
<div class="relative z-10 w-full max-w-4xl h-[768px] bg-black rounded-lg shadow-2xl overflow-hidden border-8 border-gray-800">
<!-- Start screen -->
<div v-if="gameState === 'start'" class="w-full h-full flex flex-col items-center justify-center bg-blue-500 relative px-4">
<img :src="titleImage" alt="Super Mario Flappy" class="w-3/4 max-w-md mb-8" />
<div class="relative w-48 h-48 mb-8">
<img :src=".\mario.png" alt="Mario" class="w-full h-full object-contain animate-bounce" />
</div>
<button @click="showDifficultySelect" class="!rounded-button whitespace-nowrap cursor-pointer bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-4 px-12 text-2xl border-b-4 border-yellow-700 hover:border-yellow-600 transition duration-200 transform hover:scale-105">
OYNA
</button>
<!-- High score -->
<div class="absolute top-4 left-4 bg-black bg-opacity-70 px-4 py-2 rounded-lg">
<p class="text-white font-bold">EN YÜKSEK SKOR: {{ highScore }}</p>
</div>
<!-- Sound toggle -->
<button @click="toggleSound" class="!rounded-button whitespace-nowrap cursor-pointer absolute top-4 right-4 bg-black bg-opacity-70 p-3 rounded-lg">
<i :class="['text-white text-xl', soundOn ? 'fas fa-volume-up' : 'fas fa-volume-mute']"></i>
</button>
</div>
<!-- Difficulty select screen -->
<div v-else-if="gameState === 'difficulty'" class="w-full h-full flex flex-col items-center justify-center bg-blue-500 relative px-4">
<h2 class="text-white text-4xl font-bold mb-8">ZORLUK SEÇİN</h2>
<div class="flex flex-col space-y-6 w-full max-w-md">
<button @click="startGame('easy')" class="!rounded-button whitespace-nowrap cursor-pointer flex items-center justify-between bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 text-xl border-b-4 border-green-700 hover:border-green-800 transition duration-200">
<span class="flex items-center">
<i class="fas fa-star mr-2"></i>
KOLAY
</span>
<i class="fas fa-info-circle text-white-200 cursor-help" @mouseenter="showTooltip('easy')" @mouseleave="hideTooltip"></i>
</button>
<button @click="startGame('medium')" class="!rounded-button whitespace-nowrap cursor-pointer flex items-center justify-between bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-4 px-6 text-xl border-b-4 border-yellow-700 hover:border-yellow-800 transition duration-200">
<span class="flex items-center">
<i class="fas fa-star mr-2"></i>
<i class="fas fa-star mr-2"></i>
ORTA
</span>
<i class="fas fa-info-circle text-white-200 cursor-help" @mouseenter="showTooltip('medium')" @mouseleave="hideTooltip"></i>
</button>
<button @click="startGame('hard')" class="!rounded-button whitespace-nowrap cursor-pointer flex items-center justify-between bg-red-500 hover:bg-red-600 text-white font-bold py-4 px-6 text-xl border-b-4 border-red-700 hover:border-red-800 transition duration-200">
<span class="flex items-center">
<i class="fas fa-star mr-2"></i>
<i class="fas fa-star mr-2"></i>
<i class="fas fa-star mr-2"></i>
ZOR
</span>
<i class="fas fa-info-circle text-white-200 cursor-help" @mouseenter="showTooltip('hard')" @mouseleave="hideTooltip"></i>
</button>
</div>
<button @click="gameState = 'start'" class="!rounded-button whitespace-nowrap cursor-pointer mt-8 bg-gray-700 hover:bg-gray-800 text-white font-bold py-2 px-6 rounded-lg transition duration-200">
<i class="fas fa-arrow-left mr-2"></i> GERİ
</button>
<!-- Tooltip -->
<div v-if="tooltip.show" class="absolute bg-black bg-opacity-90 text-white p-4 rounded-lg shadow-lg max-w-xs" :style="tooltipStyle">
<p>{{ tooltip.text }}</p>
</div>
</div>
<!-- Game screen -->
<div v-else-if="gameState === 'playing'" class="w-full h-full relative" ref="gameContainer" @click="jump" @keydown.space="jump" tabindex="0">
<canvas ref="gameCanvas" class="w-full h-full"></canvas>
<!-- Score -->
<div class="absolute top-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-70 px-4 py-2 rounded-lg">
<p class="text-white font-bold text-xl">SKOR: {{ score }}</p>
</div>
<!-- Pause button -->
<button @click="pauseGame" class="!rounded-button whitespace-nowrap cursor-pointer absolute top-4 right-4 bg-black bg-opacity-70 p-3 rounded-lg">
<i class="fas fa-pause text-white text-xl"></i>
</button>
</div>
<!-- Pause screen -->
<div v-else-if="gameState === 'paused'" class="w-full h-full flex flex-col items-center justify-center bg-black bg-opacity-80 absolute inset-0 z-20">
<h2 class="text-white text-4xl font-bold mb-8">DURAKLAT</h2>
<div class="flex flex-col space-y-4">
<button @click="resumeGame" class="!rounded-button whitespace-nowrap cursor-pointer bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 text-xl rounded-lg transition duration-200">
<i class="fas fa-play mr-2"></i> DEVAM ET
</button>
<button @click="gameState = 'start'" class="!rounded-button whitespace-nowrap cursor-pointer bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-8 text-xl rounded-lg transition duration-200">
<i class="fas fa-home mr-2"></i> ANA MENÜ
</button>
</div>
</div>
<!-- Game over screen -->
<div v-else-if="gameState === 'gameOver'" class="w-full h-full flex flex-col items-center justify-center bg-black bg-opacity-80 absolute inset-0 z-20">
<h2 class="text-red-500 text-6xl font-bold mb-8">OYUN BİTTİ</h2>
<div class="bg-gray-800 p-6 rounded-lg mb-8">
<p class="text-white text-2xl mb-2">Skor: <span class="text-yellow-400">{{ score }}</span></p>
<p class="text-white text-2xl">En Yüksek Skor: <span class="text-yellow-400">{{ highScore }}</span></p>
</div>
<div class="flex space-x-4">
<button @click="restartGame" class="!rounded-button whitespace-nowrap cursor-pointer bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 text-xl rounded-lg transition duration-200">
<i class="fas fa-redo mr-2"></i> TEKRAR OYNA
</button>
<button @click="gameState = 'start'" class="!rounded-button whitespace-nowrap cursor-pointer bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 text-xl rounded-lg transition duration-200">
<i class="fas fa-home mr-2"></i> ANA MENÜ
</button>
</div>
<div class="mt-8 flex space-x-4">
<button class="!rounded-button whitespace-nowrap cursor-pointer bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full transition duration-200">
<i class="fab fa-facebook-f text-xl"></i>
</button>
<button class="!rounded-button whitespace-nowrap cursor-pointer bg-blue-400 hover:bg-blue-500 text-white p-3 rounded-full transition duration-200">
<i class="fab fa-twitter text-xl"></i>
</button>
<button class="!rounded-button whitespace-nowrap cursor-pointer bg-red-600 hover:bg-red-700 text-white p-3 rounded-full transition duration-200">
<i class="fab fa-instagram text-xl"></i>
</button>
</div>
</div>
</div>
<!-- Date display -->
<div class="mt-4 text-gray-700">
<p>22 Mayıs 2025, Perşembe</p>
</div>
</div>
</template>
<script lang="ts" setup>
import { ref, onMounted, onUnmounted, computed } from 'vue';
// Game state
const gameState = ref('start'); // start, difficulty, playing, paused, gameOver
const score = ref(0);
const highScore = ref(0);
const currentDifficulty = ref('medium');
const soundOn = ref(true);
// Game elements
const gameCanvas = ref<HTMLCanvasElement | null>(null);
const gameContainer = ref<HTMLDivElement | null>(null);
const ctx = ref<CanvasRenderingContext2D | null>(null);
// Game variables
const gravity = ref(0.5);
const jumpForce = ref(-10);
const pipeWidth = ref(80);
const pipeGap = ref(200);
const pipeSpeed = ref(3);
const pipes = ref<{ x: number; topHeight: number }[]>([]);
const mario = ref({
x: 100,
y: 300,
width: 50,
height: 50,
velocity: 0,
});
const gameLoop = ref<number | null>(null);
const frameCount = ref(0);
// Tooltip
const tooltip = ref({
show: false,
text: '',
x: 0,
y: 0,
});
const tooltipStyle = computed(() => {
return {
left: `${tooltip.value.x}px`,
top: `${tooltip.value.y}px`,
};
});
// Images
const backgroundImage = 'https://readdy.ai/api/search-image?query=retro%20pixel%20art%20game%20background%20with%20blue%20sky%2C%20pixel%20clouds%2C%20and%20green%20ground%20in%20Super%20Mario%20style%2C%20seamless%20pattern%2C%208-bit%20graphics%2C%20vibrant%20colors%2C%20nostalgic%20gaming%20scene&width=1440&height=1024&seq=bg1&orientation=landscape';
const titleImage = 'https://readdy.ai/api/search-image?query=Super%20Mario%20Flappy%20title%20text%20in%20retro%20pixel%20art%20style%2C%20colorful%208-bit%20typography%2C%20game%20logo%20design%20with%20Mario%20elements%2C%20arcade%20game%20title%20screen%2C%20pixelated%20text%20on%20transparent%20background&width=600&height=200&seq=title1&orientation=landscape';
const marioImage = 'https://static.readdy.ai/image/07dec2cb539d0f0cdfb0c1ecdc8b2194/df9f7a0373e91c14647b85a2f8605d87.png';
const pipeImage = 'https://static.readdy.ai/image/07dec2cb539d0f0cdfb0c1ecdc8b2194/2dbb2ab438d7a5203132e4ea956566d9.png';
// Game functions
function showDifficultySelect() {
gameState.value = 'difficulty';
}
function showTooltip(difficulty: string) {
const target = event?.target as HTMLElement;
if (!target) return;
const rect = target.getBoundingClientRect();
tooltip.value.x = rect.right + 10;
tooltip.value.y = rect.top;
switch (difficulty) {
case 'easy':
tooltip.value.text = 'Borular daha yavaş hareket eder ve aralık daha geniştir. Yerçekimi daha düşüktür.';
break;
case 'medium':
tooltip.value.text = 'Standart hız ve boşluk genişliği. Dengeli bir zorluk seviyesi.';
break;
case 'hard':
tooltip.value.text = 'Borular daha hızlı hareket eder ve aralık daha dardır. Yerçekimi daha yüksektir.';
break;
}
tooltip.value.show = true;
}
function hideTooltip() {
tooltip.value.show = false;
}
function startGame(difficulty: string) {
currentDifficulty.value = difficulty;
// Set difficulty parameters
switch (difficulty) {
case 'easy':
gravity.value = 0.4;
pipeSpeed.value = 2;
pipeGap.value = 280;
break;
case 'medium':
gravity.value = 0.5;
pipeSpeed.value = 3;
pipeGap.value = 230;
break;
case 'hard':
gravity.value = 0.6;
pipeSpeed.value = 4;
pipeGap.value = 200;
break;
}
// Reset game state
score.value = 0;
pipes.value = [];
mario.value = {
x: 100,
y: 300,
width: 50,
height: 50,
velocity: 0,
};
gameState.value = 'playing';
// Focus on game container for keyboard controls
nextTick(() => {
if (gameContainer.value) {
gameContainer.value.focus();
}
// Initialize canvas
if (gameCanvas.value) {
ctx.value = gameCanvas.value.getContext('2d');
// Set canvas dimensions
const container = gameContainer.value;
if (container) {
gameCanvas.value.width = container.clientWidth;
gameCanvas.value.height = container.clientHeight;
}
// Start game loop
if (gameLoop.value) cancelAnimationFrame(gameLoop.value);
gameLoop.value = requestAnimationFrame(update);
}
});
}
function update() {
if (gameState.value !== 'playing' || !ctx.value || !gameCanvas.value) return;
const canvas = gameCanvas.value;
const context = ctx.value;
// Clear canvas
context.clearRect(0, 0, canvas.width, canvas.height);
// Draw background
context.fillStyle = '#87CEEB'; // Sky blue
context.fillRect(0, 0, canvas.width, canvas.height);
// Draw ground
context.fillStyle = '#8B4513'; // Brown
context.fillRect(0, canvas.height - 50, canvas.width, 50);
context.fillStyle = '#00FF00'; // Green
context.fillRect(0, canvas.height - 50, canvas.width, 20);
// Update Mario
mario.value.velocity += gravity.value;
mario.value.y += mario.value.velocity;
// Draw Mario character
const marioSprite = new Image();
marioSprite.src = marioImage;
context.drawImage(
marioSprite,
mario.value.x,
mario.value.y,
mario.value.width,
mario.value.height
);
// Update pipes
frameCount.value++;
// Add new pipe every 150 frames
if (frameCount.value % 150 === 0) {
const minHeight = 50;
const maxHeight = canvas.height - pipeGap.value - minHeight - 50; // 50 for ground
const topHeight = Math.floor(Math.random() * (maxHeight - minHeight + 1)) + minHeight;
pipes.value.push({
x: canvas.width,
topHeight,
});
}
// Draw and update pipes
for (let i = 0; i < pipes.value.length; i++) {
const pipe = pipes.value[i];
// Move pipe
pipe.x -= pipeSpeed.value;
// Draw pipes
const pipeSprite = new Image();
pipeSprite.src = pipeImage;
// Draw top pipe (flipped)
context.save();
context.translate(pipe.x, pipe.topHeight);
context.scale(1, -1);
context.drawImage(pipeSprite, 0, 0, pipeWidth.value, pipe.topHeight);
context.restore();
// Draw bottom pipe
context.drawImage(
pipeSprite,
pipe.x,
pipe.topHeight + pipeGap.value,
pipeWidth.value,
canvas.height - pipe.topHeight - pipeGap.value - 50
);
// Check collision
if (
mario.value.x + mario.value.width > pipe.x &&
mario.value.x < pipe.x + pipeWidth.value &&
(mario.value.y < pipe.topHeight || mario.value.y + mario.value.height > pipe.topHeight + pipeGap.value)
) {
gameOver();
return;
}
// Check if Mario passed the pipe
if (pipe.x + pipeWidth.value < mario.value.x && !pipe.scored) {
score.value++;
pipe.scored = true;
// Update high score
if (score.value > highScore.value) {
highScore.value = score.value;
}
}
// Remove pipes that are off screen
if (pipe.x + pipeWidth.value < 0) {
pipes.value.splice(i, 1);
i--;
}
}
// Check if Mario hits the ground or goes off the top
if (mario.value.y + mario.value.height > canvas.height - 50 || mario.value.y < 0) {
gameOver();
return;
}
// Draw score
context.fillStyle = 'white';
context.font = '20px Arial';
context.fillText(`Skor: ${score.value}`, canvas.width / 2 - 40, 30);
// Continue game loop
gameLoop.value = requestAnimationFrame(update);
}
function jump() {
if (gameState.value === 'playing') {
mario.value.velocity = jumpForce.value;
}
}
function pauseGame() {
if (gameState.value === 'playing') {
gameState.value = 'paused';
if (gameLoop.value) {
cancelAnimationFrame(gameLoop.value);
gameLoop.value = null;
}
}
}
function resumeGame() {
if (gameState.value === 'paused') {
gameState.value = 'playing';
gameLoop.value = requestAnimationFrame(update);
}
}
function gameOver() {
gameState.value = 'gameOver';
if (gameLoop.value) {
cancelAnimationFrame(gameLoop.value);
gameLoop.value = null;
}
// Update high score
if (score.value > highScore.value) {
highScore.value = score.value;
}
}
function restartGame() {
startGame(currentDifficulty.value);
}
function toggleSound() {
soundOn.value = !soundOn.value;
}
// Handle window resize
function handleResize() {
if (gameCanvas.value && gameContainer.value) {
gameCanvas.value.width = gameContainer.value.clientWidth;
gameCanvas.value.height = gameContainer.value.clientHeight;
}
}
// Keyboard controls
function handleKeyDown(e: KeyboardEvent) {
if (e.code === 'Space') {
jump();
e.preventDefault();
}
}
onMounted(() => {
window.addEventListener('resize', handleResize);
window.addEventListener('keydown', handleKeyDown);
});
onUnmounted(() => {
window.removeEventListener('resize', handleResize);
window.removeEventListener('keydown', handleKeyDown);
if (gameLoop.value) {
cancelAnimationFrame(gameLoop.value);
}
});
// For touch devices
function handleTouchStart() {
jump();
}
onMounted(() => {
window.addEventListener('touchstart', handleTouchStart);
});
onUnmounted(() => {
window.removeEventListener('touchstart', handleTouchStart);
});
// Import nextTick
import { nextTick } from 'vue';
</script>
<style scoped>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
* {
font-family: 'Press Start 2P', cursive;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
-webkit-appearance: none;
margin: 0;
}
.animate-bounce {
animation: bounce 1s infinite;
}
@keyframes bounce {
0%, 100% {
transform: translateY(0);
}
50% {
transform: translateY(-20px);
}
}
</style>
